平时有许多服务器需要通过终端进行管理，如果每次都使用`ssh username@ipdomain`这种命令会显得麻烦，效率低下而且还需要每次输入密码。所以这里要说的是如何让这个过程更加简单。

## 命令简化

修改~/.ssh/config(如果没有就新建一个)

```js
Host guoguo
HostName 192.168.199.1
Port 22
User root
```

保存，输入`ssh guoguo 就可以直接执行`name@192.168.199.1`

## 免密登录

登录过程中的ssh命令已经简化，接下来就要输入密码来登录服务器，现在就将输入密码的过程化到最简。也就是免密码。

```bash
 ssh-keygen -f aliyun  -t rsa -m PEM -b 4096 -C "root@192.168.199.1"
 ssh-add -K ~/.ssh/aliyun
```

在本地计算机生成一对公钥与私钥，将公钥内容上传至 `~/.ssh/authorized_keys`文件内(如果没有`.ssh`文件夹就新建一个)

需要注意保管好私钥，备份于合适的位置。

## 测试

```bash
  ssh guoguo
~ enter linux service
```



Eg: ~/.ssh/config

```bash
# gitlab email address
# 公司内网地址
Host xxx
HostName www.xxx.com
User user
PreferredAuthentications publickey
IdentityFile ~/.ssh/xxx_rsa


# github email address
# github 地址
Host xxx
HostName xxx.com
User user
PreferredAuthentications publickey
IdentityFile ~/.ssh/xxx_rsa
```



参考文档： [github](https://docs.github.com/cn/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)   [微软docs](https://docs.microsoft.com/zh-cn/azure/virtual-machines/linux/create-ssh-keys-detailed)

