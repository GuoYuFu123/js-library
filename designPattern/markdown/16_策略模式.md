### 策略模式

*created by 付果果  2019.12.11  11:19*

##### 介绍

```javascript
策略模式（Strategy Pattern）就是定义一组算法封装起来，使其相互之间可以进行相互替换。
核心就是：将算法的使用和算法的实现分离。
算法的实现交给策略类。算法的使用交给环境类，环境类会根据不同的情况选择合适的算法。
```

##### 应用场景

```
1、代码中函数大量与对象状态有关的条件语句
2、对于多个对象，不需要管理状态，策略之间可以相互替换的时候哦。
```

##### **优点** 

```
1、算法可以自由切换。
2、避免使用多重条件判断。
3、扩展性良好，可以复用。
```

##### 缺点

```
1、策略类会增多。 
2、使用的用户需要了解策略类的实现，增加了使用成本。
3、策略类之间的逻辑是相互独立的，无法共享，在一定程度上造成了资源的浪费，可以通过享元模式进行改造。
```

##### 代码实现

###### 先来一个反例 

###### case: 马上到年底了，各位大佬们是不是都准备拿年终奖呀，可能这个年终奖跟KPI有关， A级的3倍工资，B级的2倍工资，c级的1倍工资，d级的口头鼓励 

```
    // if -else-if 的逻辑太复杂
    if (level == 1) {
    	return salay *1;
    } else if (level == 2) {
    	....
    }
```

###### 上面这个就是大量的逻辑判断，如果其他地方也用到这个逻辑，没法复用。

```
    // 策略类
    var StrategyFn = function() {
        var Strategy = {
            "A": function(salary) {
                console.log(salary * 3);
            },
            "B": function(salary) {
                console.log(salary * 2);
            },
            "C": function(salary) {
                console.log(salary * 1);
            },
            "D": function(salary) {
                console.log("口头鼓励");
            }
        }
        return function(salary, level) {
            Strategy[level] && Strategy[level](salary);
        }
    }
    // 测试
    StrategyFn()(1000, 'A');
    StrategyFn()(1000, 'D');
```

###### case2： 表单验证

[链接地址](./../html/16_策略模式.html)

##### 总结

```
策略模式最主要的特色就是创建一系列的策略算法，每一组的算法处理的业务都是相同的，只是处理的过程或者
处理的及结果不一样，所以他们又是可以进行相互转化的，这样就解决来了算法和使用之间的耦合；
```

##### 分支语句的优化

```
工厂模式： 
	它的最终目的是创建对象，是一种创建型模式
状态模式： 
	核心是状态的控制来决定表现行为，是针对某一个对象，所以每一种状态之间通常四不能相互替代的，否则会产生不同的行为结果。
策略模式：
	核心是算法，由于每一种算法要处理的业务逻辑相同，因此他们是可以相互替代的，当然策略模式并不关心使用者的环境，因此同一个策略模式最终的产出结果是一定的。
```

##### 结语

```javascript
技术交流，共同进步，欢迎fork和star！
```

